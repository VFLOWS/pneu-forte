<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="pneu-forte-colors.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inspeção de Frota</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="tailwind.config.js"></script>
    <style>
        /* Custom scrollbar for horizontal scrolling if needed */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>

<body class="bg-gray-50 font-sans">

    <header id="header"
        class="bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50 bg-gradient-to-br from-azul-02 to-preto-90">
        <div class="flex items-center justify-between px-6 py-3">
            <div class="flex items-center space-x-4">
                <img src="PNEU-FORTE-2.png" alt="Pneu Forte Logo" class="h-10">
                <h1 class="text-2xl font-bold text-white">Sistema de Análise de Pneus</h1>
            </div>
            <div class="flex items-center space-x-6">
                <div class="relative">
                    <input type="text" placeholder="Buscar inspeções..."
                        class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm w-80 focus:outline-none focus:ring-2 focus:ring-azul-02 focus:border-transparent">
                    <i class="fa-solid fa-search absolute left-3 top-3 text-gray-400"></i>
                </div>
                <button class="relative p-2 text-white hover:text-gray-300">
                    <i class="fa-regular fa-bell text-xl"></i>
                    <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                </button>
                <div class="flex items-center space-x-3">
                    <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg" alt="User"
                        class="w-9 h-9 rounded-full">
                    <div class="text-right">
                        <p class="text-sm font-medium text-white">Carlos Silva</p>
                        <p class="text-xs text-white">Analista</p>
                    </div>
                    <i class="fa-solid fa-chevron-down text-white text-xs"></i>
                </div>
            </div>
        </div>
    </header>

    <aside id="sidebar"
        class="fixed left-0 top-[61px] h-[calc(100vh-61px)] w-64 bg-white border-r border-gray-200 flex flex-col">
        <nav class="p-4 flex-1 overflow-y-auto">
            <div class="space-y-1">
                <a href="main.html"
                    class="flex items-center px-4 py-3 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg">
                    <i class="fa-solid fa-chart-line mr-3 text-base text-gray-500"></i>
                    Dashboard
                </a>
                <a href="nova-solicitacao-frota.html"
                    class="flex items-center px-4 py-3 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg">
                    <i class="fa-solid fa-plus-circle mr-3 text-base text-gray-500"></i>
                    Nova Solicitação de Análise
                </a>
                <a href="pedidos-analise.html"
                    class="flex items-center px-4 py-3 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg">
                    <i class="fa-solid fa-list mr-3 text-base text-gray-500"></i>
                    Solicitações de Análise
                </a>
                <a href="relatorios-interativos.html"
                    class="flex items-center px-4 py-3 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg">
                    <i class="fa-solid fa-file-chart-column mr-3 text-base text-gray-500"></i>
                    Relatórios
                </a>
            </div>

            <div class="mt-8 pt-6 border-t border-gray-200">
                <p class="px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">Cadastros</p>
                <div class="space-y-1">
                    <a href="clientes.html"
                        class="flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                        <i class="fa-solid fa-users mr-3 text-gray-500"></i>
                        Clientes
                    </a>
                    <a href="caminhoes.html"
                        class="flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                        <i class="fa-solid fa-truck mr-3 text-gray-500"></i>
                        Caminhões
                    </a>
                    <a href="motoristas.html"
                        class="flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                        <i class="fa-solid fa-id-card mr-3 text-gray-500"></i>
                        Motoristas
                    </a>
                    <a href="marcas.html"
                        class="flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                        <i class="fa-solid fa-copyright mr-3 text-gray-500"></i>
                        Marcas
                    </a>
                    <a href="modelos.html"
                        class="flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                        <i class="fa-solid fa-car mr-3 text-gray-500"></i>
                        Modelos
                    </a>
                    <a href="tipo-dano.html"
                        class="flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                        <i class="fa-solid fa-triangle-exclamation mr-3 text-gray-500"></i>
                        Tipos de Dano
                    </a>
                    <a href="categoria-tipo-dano.html"
                        class="flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                        <i class="fa-solid fa-layer-group mr-3 text-gray-500"></i>
                        Ctg. de Tipo de Dano
                    </a>
                    <a href="causa-tipo-dano.html"
                        class="flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                        <i class="fa-solid fa-clipboard-list mr-3 text-gray-500"></i>
                        Principais Causas (Tipo de Dano)
                    </a>
                </div>
            </div>

            <div class="mt-8 pt-6 border-t border-gray-200">
                <p class="px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">Administração</p>
                <div class="space-y-1">
                    <a href="#"
                        class="flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                        <i class="fa-solid fa-users mr-3 text-gray-500"></i>
                        Usuários
                    </a>
                    <a href="#"
                        class="flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                        <i class="fa-solid fa-gear mr-3 text-gray-500"></i>
                        Configurações
                    </a>
                </div>
            </div>
        </nav>

        <div class="shrink-0 p-4 bg-gradient-to-r from-primary-700 to-primary-800 m-4 rounded-lg">
            <div class="flex items-center justify-between text-white">
                <div>
                    <p class="text-xs font-medium opacity-90">Parceiro</p>
                    <p class="text-sm font-bold">Grupo Vipal</p>
                </div>
                <i class="fa-solid fa-handshake text-2xl opacity-80"></i>
            </div>
        </div>
    </aside>

    <main id="main-content" class="ml-64 mt-[61px] p-6">
        <div class="mb-6">
            <a href="nova-solicitacao-frota.html" class="text-sm text-primary-700 hover:text-primary-800 flex items-center mb-2">
                <i class="fa-solid fa-arrow-left mr-2"></i>
                Voltar para Nova Solicitação
            </a>
            <h2 class="text-2xl font-bold text-gray-800">Inspeção de Frota #FROTA-2026-001</h2>
            <p class="text-sm text-gray-600 mt-1">Cliente: <span class="font-bold text-gray-800">Transportadora
                    Veloz</span></p>
        </div>

        <div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
            <div class="flex justify-between items-start">
                <div>
                    <h3 class="text-lg font-semibold text-gray-800">Informações da Inspeção</h3>
                    <div class="mt-4 space-y-2 text-sm text-gray-600">
                        <p><strong class="font-medium text-gray-800">Data Início:</strong> 26/01/2026</p>
                        <p><strong class="font-medium text-gray-800">Status:</strong> <span
                                class="px-2.5 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full">Em
                                Andamento</span></p>
                        <p><strong class="font-medium text-gray-800">Veículos Inspecionados:</strong> <span
                                id="total-veiculos">0</span></p>
                    </div>
                </div>
                <div class="flex flex-row space-x-2">
                    <a href="frota-analise-detalhe.html"
                        class="w-full px-4 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center font-medium transition-colors">
                        <i class="fa-solid fa-chart-simple mr-2"></i>
                        Ver Resultado
                    </a>
                    <button type="button"
                        class="w-full px-4 py-1 bg-white text-azul-02 border border-azul-02 rounded-lg hover:bg-blue-50 flex items-center justify-center font-medium transition-colors">
                        <i class="fa-regular fa-floppy-disk mr-2"></i>
                        Salvar Análise
                    </button>
                    <button type="button"
                        class="w-full px-4 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center font-medium transition-colors">
                        <i class="fa-solid fa-check mr-2"></i>
                        Concluir Inspeção
                    </button>
                </div>
            </div>
        </div>

        <div class="mb-6 flex items-center justify-between">
            <div>
                <h3 class="text-xl font-bold text-gray-800">Veículos da Frota</h3>
                <p class="text-sm text-gray-500">Adicione os veículos para iniciar a coleta de dados dos pneus.</p>
            </div>
            <button onclick="toggleVehicleForm()" id="btn-add-vehicle"
                class="px-4 py-2 bg-azul-02 text-white rounded-lg hover:bg-blue-800 flex items-center font-medium transition-colors duration-200">
                <i class="fa-solid fa-truck-medical mr-2"></i>
                Adicionar Veículo
            </button>
        </div>

        <!-- Formulário de Adição de Veículo -->
        <div id="vehicle-form-container"
            class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
            <div
                class="bg-white rounded-lg w-full max-w-3xl shadow-xl transform transition-all max-h-[90vh] flex flex-col">
                <div class="flex items-center justify-between p-6 border-b border-gray-200 shrink-0">
                    <h3 class="text-xl font-bold text-gray-800">Adicionar Veículo à Inspeção</h3>
                    <button onclick="toggleVehicleForm()" class="text-gray-400 hover:text-gray-600">
                        <i class="fa-solid fa-times text-xl"></i>
                    </button>
                </div>
                <div class="p-6 overflow-y-auto flex-1">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Selecionar Veículo</label>
                            <select id="select-veiculo"
                                class="w-full text-sm border-gray-300 rounded-md shadow-sm focus:border-azul-02 focus:ring focus:ring-azul-02 focus:ring-opacity-50 h-10"
                                onchange="checkNewVehicle(this)">
                                <option value="">Selecione...</option>
                                <option value="new">+ Cadastrar Novo Veículo</option>
                                <option value="ABC-1234">ABC-1234 - Volvo FH 540 (Cavalo 6x2)</option>
                                <option value="XYZ-9876">XYZ-9876 - Scania R450 (Cavalo 6x4)</option>
                                <option value="DEF-5678">DEF-5678 - Carreta LS (3 Eixos)</option>
                            </select>
                        </div>

                        <div id="new-vehicle-fields" class="hidden space-y-4 border-t border-gray-100 pt-4 mt-2">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5">
                                <!-- Cliente Vinculado -->
                                <div class="md:col-span-2">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Cliente Vinculado <span class="text-red-500">*</span></label>
                                    <select id="add-cliente" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02 bg-white">
                                        <option value="">Selecione um cliente...</option>
                                        <option value="1">Transportadora Veloz</option>
                                        <option value="2">Agro Cargas Brasil</option>
                                        <option value="3">Inovação Logística</option>
                                        <option value="4">Logística Rápida</option>
                                    </select>
                                </div>

                                <!-- Tipo de Veículo -->
                                <div class="md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200 mb-2">
                                    <label class="block text-sm font-bold text-gray-700 mb-3">Tipo de Veículo</label>
                                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                        <label class="cursor-pointer border rounded-lg p-3 hover:bg-white hover:border-azul-02 transition-colors flex flex-col items-center justify-center text-center has-[:checked]:bg-blue-50 has-[:checked]:border-azul-02 has-[:checked]:text-azul-02">
                                            <input type="radio" name="tipo_veiculo_add" value="caminhao" class="hidden" checked onchange="updateVehicleFields('add')">
                                            <i class="fa-solid fa-truck text-2xl mb-2"></i>
                                            <span class="text-xs font-medium">Caminhão / Cavalo</span>
                                        </label>
                                        <label class="cursor-pointer border rounded-lg p-3 hover:bg-white hover:border-azul-02 transition-colors flex flex-col items-center justify-center text-center has-[:checked]:bg-blue-50 has-[:checked]:border-azul-02 has-[:checked]:text-azul-02">
                                            <input type="radio" name="tipo_veiculo_add" value="carreta" class="hidden" onchange="updateVehicleFields('add')">
                                            <i class="fa-solid fa-trailer text-2xl mb-2"></i>
                                            <span class="text-xs font-medium">Carreta / Implemento</span>
                                        </label>
                                        <label class="cursor-pointer border rounded-lg p-3 hover:bg-white hover:border-azul-02 transition-colors flex flex-col items-center justify-center text-center has-[:checked]:bg-blue-50 has-[:checked]:border-azul-02 has-[:checked]:text-azul-02">
                                            <input type="radio" name="tipo_veiculo_add" value="carro" class="hidden" onchange="updateVehicleFields('add')">
                                            <i class="fa-solid fa-car text-2xl mb-2"></i>
                                            <span class="text-xs font-medium">Carro / Utilitário</span>
                                        </label>
                                        <label class="cursor-pointer border rounded-lg p-3 hover:bg-white hover:border-azul-02 transition-colors flex flex-col items-center justify-center text-center has-[:checked]:bg-blue-50 has-[:checked]:border-azul-02 has-[:checked]:text-azul-02">
                                            <input type="radio" name="tipo_veiculo_add" value="van" class="hidden" onchange="updateVehicleFields('add')">
                                            <i class="fa-solid fa-shuttle-van text-2xl mb-2"></i>
                                            <span class="text-xs font-medium">Van / Furgão</span>
                                        </label>
                                    </div>
                                </div>

                                <!-- Dados Básicos -->
                                <div>
                                    <label id="label-placa-add" class="block text-sm font-medium text-gray-700 mb-2">Placa <span class="text-red-500">*</span></label>
                                    <input type="text" id="add-placa" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02 uppercase" placeholder="ABC-1234">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Frota / ID Interno</label>
                                    <input type="text" id="add-frota" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02" placeholder="Ex: 001, ADM-10">
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Marca / Fabricante</label>
                                    <select id="add-marca" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02 bg-white">
                                        <option value="">Selecione...</option>
                                        <option value="scania">Scania</option>
                                        <option value="volvo">Volvo</option>
                                        <option value="mercedes">Mercedes-Benz</option>
                                        <option value="volkswagen">Volkswagen</option>
                                        <option value="iveco">Iveco</option>
                                        <option value="daf">DAF</option>
                                        <option value="fiat">Fiat</option>
                                        <option value="chevrolet">Chevrolet</option>
                                        <option value="toyota">Toyota</option>
                                        <option value="outros">Outros</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Modelo</label>
                                    <input type="text" id="add-modelo" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02" placeholder="Ex: R450, Strada, Sprinter">
                                </div>


                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Cor Predominante</label>
                                    <input type="text" id="add-cor" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02" placeholder="Ex: Branco">
                                </div>

                                <!-- Campos Específicos: Motor -->
                                <div class="field-group-motor" data-group="add">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Combustível</label>
                                    <select id="add-combustivel" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02 bg-white">
                                        <option value="diesel">Diesel</option>
                                        <option value="gasolina">Gasolina</option>
                                        <option value="etanol">Etanol</option>
                                        <option value="flex">Flex</option>
                                        <option value="eletrico">Elétrico</option>
                                        <option value="hibrido">Híbrido</option>
                                    </select>
                                </div>
                                <div class="field-group-motor" data-group="add">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Quilometragem Atual (KM)</label>
                                    <input type="number" id="add-km" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02">
                                </div>

                                <!-- Campos Específicos: Caminhão / Eixos -->
                                <div class="field-group-truck md:col-span-2 hidden" data-group="add">
                                    <div class="border-t border-gray-200 pt-4 mt-2 mb-2">
                                        <h4 class="text-sm font-bold text-gray-800 uppercase tracking-wider mb-4">Especificações do Caminhão</h4>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <div>
                                                <label class="block text-sm font-medium text-gray-700 mb-2">Configuração de Eixos</label>
                                                <select id="add-truck-axles" onchange="updateTireLayout('add')" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02 bg-white">
                                                    <option value="4x2">4x2 (Toco)</option>
                                                    <option value="6x2">6x2 (Trucado)</option>
                                                    <option value="6x4">6x4 (Traçado)</option>
                                                    <option value="8x2">8x2 (Bitruck)</option>
                                                </select>
                                            </div>
                                            <div class="flex items-center mt-6">
                                                <label class="inline-flex items-center cursor-pointer">
                                                    <input type="checkbox" id="add-has-trailer" class="form-checkbox text-azul-02 w-5 h-5" onchange="toggleLinkedTrailer('add')">
                                                    <span class="ml-2 text-sm text-gray-700 font-medium">Possui Carreta/Implemento Vinculado?</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Campos Específicos: Carreta -->
                                <div id="add-trailer-section" class="md:col-span-2 hidden field-group-trailer" data-group="add">
                                    <div class="border-t border-gray-200 pt-4 mt-2 mb-2">
                                        <h4 class="text-sm font-bold text-gray-800 uppercase tracking-wider mb-4">Dados da Carreta / Implemento</h4>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <div>
                                                <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de Carroceria</label>
                                                <select id="add-trailer-body" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02 bg-white">
                                                    <option value="bau">Baú</option>
                                                    <option value="sider">Sider</option>
                                                    <option value="graneleiro">Graneleiro</option>
                                                    <option value="cacamba">Caçamba</option>
                                                    <option value="tanque">Tanque</option>
                                                    <option value="prancha">Prancha</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-gray-700 mb-2">Qtd. Eixos (Carreta)</label>
                                                <select id="add-trailer-axles" onchange="updateTireLayout('add')" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02 bg-white">
                                                    <option value="1">1 Eixo</option>
                                                    <option value="2">2 Eixos</option>
                                                    <option value="3" selected>3 Eixos</option>
                                                    <option value="4">4 Eixos</option>
                                                </select>
                                            </div>
                                            <div class="linked-trailer-only hidden">
                                                <label class="block text-sm font-medium text-gray-700 mb-2">Placa da Carreta</label>
                                                <input type="text" id="add-trailer-plate" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02 uppercase" placeholder="ABC-1234">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Container de Pneus -->
                                <div id="add-tires-container" class="md:col-span-2 mt-2"></div>

                                <div class="md:col-span-2 border-t border-gray-200 pt-4 mt-2">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Foto do Veículo</label>
                                    <input type="file" id="add-foto" accept="image/*" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02 text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-azul-02 file:text-white hover:file:bg-azul-04">
                                </div>
                                <div class="md:col-span-2">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Observações</label>
                                    <textarea id="add-detalhes" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-azul-02" rows="2" placeholder="Informações adicionais..."></textarea>
                                </div>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">KM Atual / Horímetro</label>
                            <input type="number" id="input-km"
                                class="w-full text-sm border-gray-300 rounded-md shadow-sm focus:border-azul-02 focus:ring focus:ring-azul-02 h-10"
                                placeholder="Ex: 150000">
                        </div>
                    </div>
                </div>
                <div class="p-6 border-t border-gray-200 flex justify-end space-x-3 shrink-0">
                    <button onclick="toggleVehicleForm()"
                        class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50">Cancelar</button>
                    <button onclick="addVehicle()"
                        class="px-4 py-2 text-sm font-medium text-white bg-azul-02 rounded-md hover:bg-blue-800">Adicionar
                        Veículo</button>
                </div>
            </div>
        </div>

        <!-- Lista de Veículos -->
        <div id="vehicles-list" class="space-y-6">
            <!-- Cards de veículos serão inseridos aqui via JS -->
        </div>

    </main>

    <script>
        let vehiclesData = [];

        // Template para pneus baseados na configuração (simplificado) - mantido para dados mockados
        const tirePositions = {
            '4x2': ['1E', '1D', '2EE', '2EI', '2DI', '2DD'],
            '6x2': ['1E', '1D', '2EE', '2EI', '2DI', '2DD', '3EE', '3EI', '3DI', '3DD'], // Eixo de apoio
            '6x4': ['1E', '1D', '2EE', '2EI', '2DI', '2DD', '3EE', '3EI', '3DI', '3DD'],
            '8x2': ['1E', '1D', '2E', '2D', '3EE', '3EI', '3DI', '3DD', '4EE', '4EI', '4DI', '4DD'], 
            'carreta-1': ['1EE', '1EI', '1DI', '1DD'],
            'carreta-2': ['1EE', '1EI', '1DI', '1DD', '2EE', '2EI', '2DI', '2DD'],
            'carreta-3': ['1EE', '1EI', '1DI', '1DD', '2EE', '2EI', '2DI', '2DD', '3EE', '3EI', '3DI', '3DD'],
            'carreta-4': ['1EE', '1EI', '1DI', '1DD', '2EE', '2EI', '2DI', '2DD', '3EE', '3EI', '3DI', '3DD', '4EE', '4EI', '4DI', '4DD']
        };

        const tireBrands = [
            {value: 'michelin', label: 'Michelin'},
            {value: 'bridgestone', label: 'Bridgestone'},
            {value: 'goodyear', label: 'Goodyear'},
            {value: 'pirelli', label: 'Pirelli'},
            {value: 'continental', label: 'Continental'},
            {value: 'dunlop', label: 'Dunlop'},
            {value: 'firestone', label: 'Firestone'},
            {value: 'fate', label: 'Fate'},
            {value: 'maggion', label: 'Maggion'},
            {value: 'outros', label: 'Outros / Mistas'}
        ];

        function getBrandOptionsHtml() {
            return `<option value="">Selecione...</option>` + 
                   tireBrands.map(b => `<option value="${b.value}">${b.label}</option>`).join('');
        }

        function toggleVehicleForm() {
            const modal = document.getElementById('vehicle-form-container');
            modal.classList.toggle('hidden');
        }

        function checkNewVehicle(select) {
            const newFields = document.getElementById('new-vehicle-fields');
            const genericKmDiv = document.getElementById('input-km').parentElement;

            if (select.value === 'new') {
                newFields.classList.remove('hidden');
                if(genericKmDiv) genericKmDiv.classList.add('hidden');
                updateVehicleFields('add');
            } else {
                newFields.classList.add('hidden');
                if(genericKmDiv) genericKmDiv.classList.remove('hidden');
            }
        }

        function renderAxle(axleNumber, tireCount, prefix, labelSuffix = '') {
            let html = `<div class="bg-gray-50 p-3 rounded-lg border border-gray-200 mb-3">
                            <h5 class="text-xs font-bold text-gray-700 uppercase mb-2">Eixo ${axleNumber} ${labelSuffix}</h5>
                            <div class="grid grid-cols-2 gap-2">`;
            
            const options = getBrandOptionsHtml();
            
            if (tireCount === 2) {
                html += `
                    <div><label class="text-[10px] text-gray-500">Esq.</label><select name="${prefix}_e${axleNumber}_esq" class="w-full text-sm border-gray-300 rounded focus:ring-azul-02 bg-white px-2 py-1">${options}</select></div>
                    <div><label class="text-[10px] text-gray-500">Dir.</label><select name="${prefix}_e${axleNumber}_dir" class="w-full text-sm border-gray-300 rounded focus:ring-azul-02 bg-white px-2 py-1">${options}</select></div>
                `;
            } else if (tireCount === 4) {
                 html += `
                    <div><label class="text-[10px] text-gray-500">Ext. Esq.</label><select name="${prefix}_e${axleNumber}_ext_esq" class="w-full text-sm border-gray-300 rounded focus:ring-azul-02 bg-white px-2 py-1">${options}</select></div>
                    <div><label class="text-[10px] text-gray-500">Int. Esq.</label><select name="${prefix}_e${axleNumber}_int_esq" class="w-full text-sm border-gray-300 rounded focus:ring-azul-02 bg-white px-2 py-1">${options}</select></div>
                    <div><label class="text-[10px] text-gray-500">Int. Dir.</label><select name="${prefix}_e${axleNumber}_int_dir" class="w-full text-sm border-gray-300 rounded focus:ring-azul-02 bg-white px-2 py-1">${options}</select></div>
                    <div><label class="text-[10px] text-gray-500">Ext. Dir.</label><select name="${prefix}_e${axleNumber}_ext_dir" class="w-full text-sm border-gray-300 rounded focus:ring-azul-02 bg-white px-2 py-1">${options}</select></div>
                `;
            }
            
            html += `</div></div>`;
            return html;
        }

        function updateTireLayout(modalType) {
            const container = document.getElementById(modalType + '-tires-container');
            if(!container) return;

            const radios = document.getElementsByName('tipo_veiculo_' + modalType);
            let selectedType = 'caminhao';
            for (const radio of radios) { if (radio.checked) selectedType = radio.value; }

            let html = '<div class="border-t border-gray-200 pt-4 mt-2"><h4 class="text-sm font-bold text-gray-800 uppercase tracking-wider mb-4">Configuração de Pneus</h4><div class="grid grid-cols-1 md:grid-cols-2 gap-4">';

            if (selectedType === 'caminhao') {
                const axleConfig = document.getElementById(modalType + '-truck-axles').value;
                if (axleConfig === '4x2') {
                    html += renderAxle(1, 2, 'truck', '(Dianteiro)');
                    html += renderAxle(2, 4, 'truck', '(Tração)');
                } else if (axleConfig === '6x2' || axleConfig === '6x4') {
                    html += renderAxle(1, 2, 'truck', '(Dianteiro)');
                    html += renderAxle(2, 4, 'truck', '(Tração)');
                    html += renderAxle(3, 4, 'truck', '(Truck/Tração)');
                } else if (axleConfig === '8x2') {
                    html += renderAxle(1, 2, 'truck', '(Dianteiro 1)');
                    html += renderAxle(2, 2, 'truck', '(Dianteiro 2)');
                    html += renderAxle(3, 4, 'truck', '(Tração)');
                    html += renderAxle(4, 4, 'truck', '(Truck)');
                }

                const hasTrailer = document.getElementById(modalType + '-has-trailer').checked;
                if (hasTrailer) {
                    const trailerAxles = document.getElementById(modalType + '-trailer-axles').value;
                    const count = parseInt(trailerAxles) || 0;
                    for(let i=1; i<=count; i++) {
                        html += renderAxle(i, 4, 'linked_trailer', `(Carreta - Eixo ${i})`);
                    }
                }

            } else if (selectedType === 'carreta') {
                const trailerAxles = document.getElementById(modalType + '-trailer-axles').value;
                const count = parseInt(trailerAxles) || 0;
                for(let i=1; i<=count; i++) {
                    html += renderAxle(i, 4, 'trailer', `(Eixo ${i})`);
                }
            } else {
                html += renderAxle(1, 2, 'car', '(Dianteiro)');
                html += renderAxle(2, 2, 'car', '(Traseiro)');
            }

            html += '</div></div>';
            container.innerHTML = html;
        }

        function updateVehicleFields(modalType) {
            const radios = document.getElementsByName('tipo_veiculo_' + modalType);
            let selectedType = 'caminhao';
            for (const radio of radios) {
                if (radio.checked) {
                    selectedType = radio.value;
                    break;
                }
            }

            const motorFields = document.querySelectorAll(`.field-group-motor[data-group="${modalType}"]`);
            const truckFields = document.querySelector(`.field-group-truck[data-group="${modalType}"]`);
            const trailerFields = document.querySelector(`.field-group-trailer[data-group="${modalType}"]`);
            
            motorFields.forEach(el => el.classList.remove('hidden'));
            if(truckFields) truckFields.classList.add('hidden');
            if(trailerFields) trailerFields.classList.add('hidden');

            if (selectedType === 'caminhao') {
                if(truckFields) truckFields.classList.remove('hidden');
                toggleLinkedTrailer(modalType); 
            } else if (selectedType === 'carreta') {
                motorFields.forEach(el => el.classList.add('hidden')); 
                if(trailerFields) {
                    trailerFields.classList.remove('hidden');
                    const linkedOnly = trailerFields.querySelectorAll('.linked-trailer-only');
                    linkedOnly.forEach(el => el.classList.add('hidden')); 
                }
            } else if (selectedType === 'carro' || selectedType === 'van') {
                // Default visibility
            }
            
            updateTireLayout(modalType);
        }

        function toggleLinkedTrailer(modalType) {
            const checkbox = document.getElementById(modalType + '-has-trailer');
            const trailerSection = document.getElementById(modalType + '-trailer-section');
            
            if (checkbox && checkbox.checked) {
                if(trailerSection) {
                    trailerSection.classList.remove('hidden');
                    const linkedOnly = trailerSection.querySelectorAll('.linked-trailer-only');
                    linkedOnly.forEach(el => el.classList.remove('hidden'));
                }
            } else {
                const radios = document.getElementsByName('tipo_veiculo_' + modalType);
                let selectedType = '';
                for (const radio of radios) { if (radio.checked) selectedType = radio.value; }
                
                if (selectedType === 'caminhao' && trailerSection) {
                    trailerSection.classList.add('hidden');
                }
            }
            updateTireLayout(modalType);
        }

        function getTiresFromForm(containerId) {
            const container = document.getElementById(containerId);
            const selects = container.querySelectorAll('select');
            let tires = [];
            
            selects.forEach(select => {
                const name = select.name;
                const brand = select.value;
                
                let posCode = '';
                const match = name.match(/_e(\d+)_(.+)/);
                if (match) {
                    const axle = match[1];
                    const suffix = match[2];
                    
                    let posSuffix = '';
                    if (suffix === 'esq') posSuffix = 'E';
                    else if (suffix === 'dir') posSuffix = 'D';
                    else if (suffix === 'ext_esq') posSuffix = 'EE';
                    else if (suffix === 'int_esq') posSuffix = 'EI';
                    else if (suffix === 'int_dir') posSuffix = 'DI';
                    else if (suffix === 'ext_dir') posSuffix = 'DD';
                    
                    // Prefix logic
                    if(name.startsWith('linked_trailer_')) {
                         posCode = 'C-' + axle + posSuffix;
                    } else {
                         posCode = axle + posSuffix;
                    }
                }
                
                tires.push({
                    pos: posCode,
                    brand: brand,
                    psi: '',
                    mm: '',
                    status: 'ok',
                    obs: ''
                });
            });
            
            return tires;
        }

        function addVehicle() {
            const select = document.getElementById('select-veiculo');
            
            let vehicle = {};

            if (select.value === 'new') {
                const placa = document.getElementById('add-placa').value;
                const frota = document.getElementById('add-frota').value;
                const marca = document.getElementById('add-marca').value;
                const modelo = document.getElementById('add-modelo').value;
                const cor = document.getElementById('add-cor').value;
                const combustivel = document.getElementById('add-combustivel').value;
                const km = document.getElementById('add-km').value;
                const detalhes = document.getElementById('add-detalhes').value;
                const fotoInput = document.getElementById('add-foto');
                
                if (!placa) { alert('Digite a placa'); return; }

                // Get Config Description
                const radios = document.getElementsByName('tipo_veiculo_add');
                let selectedType = 'caminhao';
                for (const radio of radios) { if (radio.checked) selectedType = radio.value; }
                
                let configDesc = '';
                if(selectedType === 'caminhao') {
                    configDesc = document.getElementById('add-truck-axles').value;
                    if(document.getElementById('add-has-trailer').checked) {
                        const tAxles = document.getElementById('add-trailer-axles').value;
                        configDesc += ' + Carreta ' + tAxles + 'E';
                    }
                } else if(selectedType === 'carreta') {
                    const tAxles = document.getElementById('add-trailer-axles').value;
                    const body = document.getElementById('add-trailer-body').value;
                    configDesc = 'Carreta ' + tAxles + 'E (' + body + ')';
                } else {
                    configDesc = selectedType === 'carro' ? 'Carro' : 'Van';
                }

                const tires = getTiresFromForm('add-tires-container');

                vehicle = {
                    id: Date.now(),
                    placa: placa,
                    frota: frota,
                    modelo: modelo || 'Novo Veículo',
                    marca: marca,
                    cor: cor,
                    combustivel: combustivel,
                    config: configDesc,
                    km: km,
                    ano: '', 
                    detalhes: detalhes,
                    foto: fotoInput && fotoInput.files.length > 0 ? URL.createObjectURL(fotoInput.files[0]) : null,
                    tires: tires
                };
                
            } else if (select.value) {
                const genericKm = document.getElementById('input-km').value;
                const text = select.options[select.selectedIndex].text;
                const parts = text.split(' - ');
                const placa = parts[0];
                const modelo = parts[1];
                let config = '6x2';
                let tires = generateTires('6x2');
                
                if (modelo.includes('6x4')) { config = '6x4'; tires = generateTires('6x4'); }
                if (modelo.includes('Carreta')) {
                    config = '3eixos'; 
                    tires = generateTires('carreta-3');
                }

                vehicle = {
                    id: Date.now(),
                    placa: placa,
                    modelo: modelo,
                    config: config,
                    km: genericKm,
                    tires: tires
                };
            } else {
                alert('Selecione um veículo');
                return;
            }

            vehiclesData.push(vehicle);
            renderVehicles(vehicle.id);
            toggleVehicleForm();
            
            // Reset
            select.value = '';
            document.getElementById('input-km').value = '';
            document.getElementById('new-vehicle-fields').classList.add('hidden');
            const genericKmDiv = document.getElementById('input-km').parentElement;
            if(genericKmDiv) genericKmDiv.classList.remove('hidden');
        }

        function generateTires(config, isTrailer = false) {
            const positions = tirePositions[config] || tirePositions['4x2'];
            return positions.map(pos => ({
                pos: (isTrailer ? 'C-' : '') + pos,
                brand: '',
                psi: '',
                mm: '',
                status: 'ok', 
                obs: ''
            }));
        }

        function renderVehicles(expandId = null) {
            const container = document.getElementById('vehicles-list');
            const totalEl = document.getElementById('total-veiculos');
            container.innerHTML = '';
            totalEl.textContent = vehiclesData.length;

            vehiclesData.forEach((v, vIndex) => {
                const isExpanded = v.id === expandId;
                const card = document.createElement('div');
                card.className = 'bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm';

                let headerHtml = `
                <div class="bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center cursor-pointer" onclick="toggleDetails(${v.id})">
                    <div class="flex items-center space-x-4">
                        <div class="bg-blue-100 p-2 rounded-lg text-azul-02">
                            <i class="fa-solid fa-truck text-xl"></i>
                        </div>
                        <div>
                            <h4 class="text-lg font-bold text-gray-800">${v.placa}</h4>
                            <p class="text-sm text-gray-500">${v.modelo} • KM: ${v.km || 'N/I'}</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-6">
                        <div class="text-right">
                            <span class="block text-xs text-gray-500 uppercase">Pneus</span>
                            <span class="block font-bold text-gray-800">${v.tires.length} Unidades</span>
                        </div>
                        <div class="text-right">
                            <span class="block text-xs text-gray-500 uppercase">Status</span>
                             <span class="block font-bold text-green-600">Em Análise</span>
                        </div>
                        <button onclick="event.stopPropagation(); removeVehicle(${v.id})" class="text-gray-400 hover:text-red-500 transition-colors p-2" title="Remover Veículo">
                            <i class="fa-solid fa-trash"></i>
                        </button>
                        <i class="fa-solid fa-chevron-down text-gray-400 transition-transform duration-200" id="icon-${v.id}" style="transform: ${isExpanded ? 'rotate(180deg)' : 'rotate(0deg)'}"></i>
                    </div>
                </div>
            `;

                const brandOptions = getBrandOptionsHtml();

                let bodyHtml = `
                <div id="details-${v.id}" class="${isExpanded ? '' : 'hidden'} border-t border-gray-100 bg-white">
                    <div class="p-6">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 bg-gray-50 p-4 rounded-lg">
                            <div>
                                <span class="block text-xs text-gray-500 uppercase">Configuração</span>
                                <span class="font-medium text-gray-800">${v.config}</span>
                            </div>
                            <div>
                                <span class="block text-xs text-gray-500 uppercase">Ano / Detalhes</span>
                                <span class="font-medium text-gray-800">${v.ano || '-'} ${v.detalhes ? ' - ' + v.detalhes : ''}</span>
                            </div>
                             <div>
                                <span class="block text-xs text-gray-500 uppercase">Carroceria</span>
                                <span class="font-medium text-gray-800 uppercase">${v.tipoCarreta || '-'}</span>
                            </div>
                        </div>

                        <div class="mb-4 flex items-center space-x-3 bg-blue-50 p-3 rounded-lg border border-blue-100">
                            <span class="text-sm font-medium text-blue-800">Aplicar Marca a Todos:</span>
                            <select onchange="applyBrandToAll(${vIndex}, this.value)" class="px-3 py-1.5 border border-blue-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 bg-white text-gray-700">
                                ${brandOptions}
                            </select>
                        </div>

                        <div class="grid grid-cols-1 xl:grid-cols-2 gap-8">
                            <!-- Lado Esquerdo -->
                            <div>
                                <h5 class="text-sm font-bold text-gray-700 mb-3 border-b pb-2 flex items-center">
                                    <i class="fa-solid fa-arrow-left mr-2 text-azul-02"></i> Lado Esquerdo
                                </h5>
                                <div class="overflow-x-auto">
                                    <table class="w-full text-sm text-left text-gray-500">
                                        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                            <tr>
                                                <th class="px-2 py-2 text-center w-12">Pos</th>
                                                <th class="px-2 py-2">Marca/Modelo</th>
                                                <th class="px-2 py-2 text-center w-20">PSI</th>
                                                <th class="px-2 py-2 text-center w-20">Sulco</th>
                                                <th class="px-2 py-2 text-center w-24">Condição</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            ${v.tires.map((tire, tIndex) => {
                                                if (!tire.pos.includes('E')) return '';
                                                const currentBrandOptions = tireBrands.map(b => `<option value="${b.value}" ${tire.brand === b.value ? 'selected' : ''}>${b.label}</option>`).join('');
                                                return `
                                                <tr class="border-b hover:bg-gray-50">
                                                    <td class="px-2 py-2 font-bold text-gray-800 text-center">${tire.pos}</td>
                                                    <td class="px-2 py-2">
                                                        <select onchange="updateTire(${vIndex}, ${tIndex}, 'brand', this.value)" class="w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:border-azul-02 bg-white">
                                                            <option value="">Selecione...</option>
                                                            ${currentBrandOptions}
                                                        </select>
                                                    </td>
                                                    <td class="px-2 py-2">
                                                        <input type="number" value="${tire.psi}" onchange="updateTire(${vIndex}, ${tIndex}, 'psi', this.value)" class="w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:border-azul-02 text-center" placeholder="PSI">
                                                    </td>
                                                    <td class="px-2 py-2">
                                                        <input type="number" step="0.1" value="${tire.mm}" onchange="updateTire(${vIndex}, ${tIndex}, 'mm', this.value)" class="w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:border-azul-02 text-center" placeholder="mm">
                                                    </td>
                                                    <td class="px-2 py-2">
                                                        <div class="flex space-x-1 justify-center">
                                                            <label class="inline-flex items-center cursor-pointer" title="Ok">
                                                                <input type="radio" name="status-${v.id}-${tIndex}" value="ok" ${tire.status === 'ok' ? 'checked' : ''} onchange="updateTire(${vIndex}, ${tIndex}, 'status', 'ok')" class="sr-only peer">
                                                                <div class="w-6 h-6 rounded-full bg-gray-100 peer-checked:bg-green-500 hover:bg-green-200 flex items-center justify-center transition-colors text-gray-400 peer-checked:text-white">
                                                                    <i class="fa-solid fa-check text-[10px]"></i>
                                                                </div>
                                                            </label>
                                                            <label class="inline-flex items-center cursor-pointer" title="Atenção">
                                                                <input type="radio" name="status-${v.id}-${tIndex}" value="attention" ${tire.status === 'attention' ? 'checked' : ''} onchange="updateTire(${vIndex}, ${tIndex}, 'status', 'attention')" class="sr-only peer">
                                                                <div class="w-6 h-6 rounded-full bg-gray-100 peer-checked:bg-yellow-400 hover:bg-yellow-200 flex items-center justify-center transition-colors text-gray-400 peer-checked:text-white">
                                                                    <i class="fa-solid fa-exclamation text-[10px]"></i>
                                                                </div>
                                                            </label>
                                                            <label class="inline-flex items-center cursor-pointer" title="Troca">
                                                                <input type="radio" name="status-${v.id}-${tIndex}" value="remove" ${tire.status === 'remove' ? 'checked' : ''} onchange="updateTire(${vIndex}, ${tIndex}, 'status', 'remove')" class="sr-only peer">
                                                                <div class="w-6 h-6 rounded-full bg-gray-100 peer-checked:bg-red-500 hover:bg-red-200 flex items-center justify-center transition-colors text-gray-400 peer-checked:text-white">
                                                                    <i class="fa-solid fa-xmark text-[10px]"></i>
                                                                </div>
                                                            </label>
                                                        </div>
                                                    </td>
                                                </tr>`;
                                            }).join('')}
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- Lado Direito -->
                            <div>
                                <h5 class="text-sm font-bold text-gray-700 mb-3 border-b pb-2 flex items-center justify-end">
                                    Lado Direito <i class="fa-solid fa-arrow-right ml-2 text-azul-02"></i>
                                </h5>
                                <div class="overflow-x-auto">
                                    <table class="w-full text-sm text-left text-gray-500">
                                        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                            <tr>
                                                <th class="px-2 py-2 text-center w-12">Pos</th>
                                                <th class="px-2 py-2">Marca/Modelo</th>
                                                <th class="px-2 py-2 text-center w-20">PSI</th>
                                                <th class="px-2 py-2 text-center w-20">Sulco</th>
                                                <th class="px-2 py-2 text-center w-24">Condição</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            ${v.tires.map((tire, tIndex) => {
                                                if (tire.pos.includes('E')) return '';
                                                const currentBrandOptions = tireBrands.map(b => `<option value="${b.value}" ${tire.brand === b.value ? 'selected' : ''}>${b.label}</option>`).join('');
                                                return `
                                                <tr class="border-b hover:bg-gray-50">
                                                    <td class="px-2 py-2 font-bold text-gray-800 text-center">${tire.pos}</td>
                                                    <td class="px-2 py-2">
                                                        <select onchange="updateTire(${vIndex}, ${tIndex}, 'brand', this.value)" class="w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:border-azul-02 bg-white">
                                                            <option value="">Selecione...</option>
                                                            ${currentBrandOptions}
                                                        </select>
                                                    </td>
                                                    <td class="px-2 py-2">
                                                        <input type="number" value="${tire.psi}" onchange="updateTire(${vIndex}, ${tIndex}, 'psi', this.value)" class="w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:border-azul-02 text-center" placeholder="PSI">
                                                    </td>
                                                    <td class="px-2 py-2">
                                                        <input type="number" step="0.1" value="${tire.mm}" onchange="updateTire(${vIndex}, ${tIndex}, 'mm', this.value)" class="w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:border-azul-02 text-center" placeholder="mm">
                                                    </td>
                                                    <td class="px-2 py-2">
                                                        <div class="flex space-x-1 justify-center">
                                                            <label class="inline-flex items-center cursor-pointer" title="Ok">
                                                                <input type="radio" name="status-${v.id}-${tIndex}" value="ok" ${tire.status === 'ok' ? 'checked' : ''} onchange="updateTire(${vIndex}, ${tIndex}, 'status', 'ok')" class="sr-only peer">
                                                                <div class="w-6 h-6 rounded-full bg-gray-100 peer-checked:bg-green-500 hover:bg-green-200 flex items-center justify-center transition-colors text-gray-400 peer-checked:text-white">
                                                                    <i class="fa-solid fa-check text-[10px]"></i>
                                                                </div>
                                                            </label>
                                                            <label class="inline-flex items-center cursor-pointer" title="Atenção">
                                                                <input type="radio" name="status-${v.id}-${tIndex}" value="attention" ${tire.status === 'attention' ? 'checked' : ''} onchange="updateTire(${vIndex}, ${tIndex}, 'status', 'attention')" class="sr-only peer">
                                                                <div class="w-6 h-6 rounded-full bg-gray-100 peer-checked:bg-yellow-400 hover:bg-yellow-200 flex items-center justify-center transition-colors text-gray-400 peer-checked:text-white">
                                                                    <i class="fa-solid fa-exclamation text-[10px]"></i>
                                                                </div>
                                                            </label>
                                                            <label class="inline-flex items-center cursor-pointer" title="Troca">
                                                                <input type="radio" name="status-${v.id}-${tIndex}" value="remove" ${tire.status === 'remove' ? 'checked' : ''} onchange="updateTire(${vIndex}, ${tIndex}, 'status', 'remove')" class="sr-only peer">
                                                                <div class="w-6 h-6 rounded-full bg-gray-100 peer-checked:bg-red-500 hover:bg-red-200 flex items-center justify-center transition-colors text-gray-400 peer-checked:text-white">
                                                                    <i class="fa-solid fa-xmark text-[10px]"></i>
                                                                </div>
                                                            </label>
                                                        </div>
                                                    </td>
                                                </tr>`;
                                            }).join('')}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="mt-4 pt-4 border-t border-gray-100">
                             <label class="block text-sm font-medium text-gray-700 mb-2">Observações / Recomendações do Veículo</label>
                             <textarea class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-azul-02 text-sm" rows="2" placeholder="Ex: Realizar rodízio dos pneus dianteiros..."></textarea>
                        </div>
                    </div>
                </div>
            `;

                card.innerHTML = headerHtml + bodyHtml;
                container.appendChild(card);
            });
        }

        function toggleDetails(id) {
            const details = document.getElementById(`details-${id}`);
            const icon = document.getElementById(`icon-${id}`);
            details.classList.toggle('hidden');
            if (details.classList.contains('hidden')) {
                icon.style.transform = 'rotate(0deg)';
            } else {
                icon.style.transform = 'rotate(180deg)';
            }
        }

        function updateTire(vIndex, tIndex, field, value) {
            vehiclesData[vIndex].tires[tIndex][field] = value;
            console.log(`Updated Vehicle ${vIndex} Tire ${tIndex}: ${field} = ${value}`);
        }

        function removeVehicle(id) {
            if (confirm('Tem certeza que deseja remover este veículo da inspeção?')) {
                vehiclesData = vehiclesData.filter(v => v.id !== id);
                renderVehicles();
            }
        }

        function applyBrandToAll(vIndex, brand) {
            if (!brand) return;
            vehiclesData[vIndex].tires.forEach(t => t.brand = brand);
            renderVehicles(vehiclesData[vIndex].id);
        }

        window.addEventListener('DOMContentLoaded', () => {
            if (vehiclesData.length === 0) {
                const exampleVehicle1 = {
                    id: 1,
                    placa: 'ABC-1234',
                    modelo: 'Volvo FH 540',
                    config: '6x2',
                    km: '450.000',
                    tires: generateTires('6x2')
                };
                exampleVehicle1.tires[0].brand = 'michelin';
                exampleVehicle1.tires[0].psi = '110';
                exampleVehicle1.tires[0].mm = '12.5';
                exampleVehicle1.tires[1].brand = 'michelin';
                exampleVehicle1.tires[1].psi = '110';
                exampleVehicle1.tires[1].mm = '12.0';

                vehiclesData.push(exampleVehicle1);
                renderVehicles();
            }
        });
    </script>
</body>

</html>
